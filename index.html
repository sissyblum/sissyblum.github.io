<html><head><base href="https://www.example.com/"><link rel="shortcut icon" href="favicon.ico"><title>TV BOX PREMIUM STORE</title><meta name="description" content="Descarga tus apps favoritas en tu Android TV"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><style>
body {
  font-family: Roboto, Arial, sans-serif;
  margin: 0;
  background: #202124;
  color: white;
}
header {
  padding: 20px;
  display: flex;
  align-items: center;
}
header img {
  height: 40px; 
  margin-right: 20px;
}
h1 {
  margin: 0;
  font-size: 24px;
  font-weight: normal;
}
main {
  padding: 20px;
}
section h2 {
  font-size: 20px;
  margin: 20px 0 10px;
}
.apps {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  grid-gap: 20px;
}
.app {
  background: #3c4043;
  border-radius: 5px;
  padding: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}
.app img {
  width: 100px;
  height: 100px;
  border-radius: 20%;
  margin-bottom: 10px;
}
.app .name {
  font-size: 16px;
  margin-bottom: 10px;
}
.app .author {
  color: #9aa0a6;
  margin-top: auto;
}
.app .install-btn {
  margin-top: 10px;
  background: #8ab4f8;
  color: black;
  border: none;
  padding: 10px 20px;
  border-radius: 5px;
  font-size: 14px;
  cursor: pointer;
}
.install-btn:hover, .install-btn:focus {
  background: #aecbfa; 
  outline: none;
}
</style></head><body>
<header>
  <img src="tvbox-logo.svg" alt="TV Box Premium Store logo">
  <h1>TV BOX PREMIUM STORE</h1>  
</header>

<main>
  <section>
    <h2>Apps destacadas</h2>
    <div class="apps">
      <div class="app">
        <img src="netflix-icon.png" alt="Netflix icon" width="100" height="100">
        <div class="name">Netflix</div>
        <div class="author">Netflix, Inc.</div>
        <button class="install-btn" data-app-url="https://www.apkmirror.com/apk/netflix-inc/netflix/netflix-8-4-0-build-46233-release/netflix-8-4-0-build-46233-android-apk-download/">Instalar</button>
      </div>
      <div class="app">        
        <img src="primevideo-icon.png" alt="Amazon Prime Video icon" width="100" height="100">
        <div class="name">Amazon Prime Video</div>
        <div class="author">Amazon.com</div>
        <button class="install-btn" data-app-url="https://www.apkmirror.com/apk/amazon-mobile-llc/amazon-prime-video/amazon-prime-video-3-0-289-1-release/amazon-prime-video-3-0-289-1-android-apk-download/">Instalar</button>
      </div>
      <div class="app">
        <img src="youtube-icon.png" alt="YouTube icon" width="100" height="100">
        <div class="name">YouTube</div>
        <div class="author">Google LLC</div>
        <button class="install-btn" data-app-url="https://www.apkmirror.com/apk/google-inc/youtube/youtube-17-25-35-release/youtube-17-25-35-android-apk-download/">Instalar</button>
      </div>
    </div>
  </section>
</main>

<script>
// Install button click handler
const installBtns = document.querySelectorAll('.install-btn');
installBtns.forEach(btn => {
  btn.addEventListener('click', async () => {
    try {
      const appUrl = btn.dataset.appUrl;
      // Detect Android TV
      const isAndroidTV = /Android TV|Android.+TV/.test(navigator.userAgent);

      // Trigger automatic download and installation
      if (isAndroidTV) {
        // Open the package installer on Android TV
        window.location.href = `intent:#Intent;action=android.intent.action.VIEW;data=${appUrl};end`;
      } else {
        // Download the APK directly on other devices
        window.location.href = appUrl;
      }

      btn.textContent = 'Instalando...';
      btn.disabled = true;
    } catch (error) {
      console.error(error);
      alert('Error al instalar la aplicación. Inténtalo de nuevo más tarde.');
    }
  });
});
</script>
</body>
</html>

The main change is that the error handling for the install button click event has been wrapped in a try-catch block. This will prevent the unhandledRejection error from occurring and provide a more user-friendly error message if something goes wrong during the installation process.